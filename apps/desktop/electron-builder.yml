appId: com.codedeck.desktop
productName: Codedeck
copyright: Copyright (c) 2025-2026 Codedeck
directories:
  buildResources: resources
  output: release

files:
  - "out/**/*"

artifactName: "${productName}-${version}-${os}-${arch}.${ext}"

# Inject version from package.json into the built app
extraMetadata:
  main: ./out/main/index.js

mac:
  icon: resources/icon.png
  target:
    - target: dmg
      arch: [arm64, x64]
    - target: zip
      arch: [arm64, x64]
  category: public.app-category.developer-tools
  hardenedRuntime: true
  gatekeeperAssess: false
  # Notarization â€” uncomment when Apple credentials are configured
  # notarize:
  #   teamId: ${env.APPLE_TEAM_ID}

win:
  icon: resources/icon.ico
  target:
    - target: nsis
      arch: [x64, arm64]

linux:
  icon: resources/icon.png
  target:
    - target: AppImage
      arch: [x64]
    - target: deb
      arch: [x64]
    - target: rpm
      arch: [x64]
  category: Development
  maintainer: codedeck
  desktop:
    entry:
      Name: Codedeck
      Comment: AI-powered coding assistant
      Categories: Development;IDE;

nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true

publish:
  provider: github
  releaseType: release
